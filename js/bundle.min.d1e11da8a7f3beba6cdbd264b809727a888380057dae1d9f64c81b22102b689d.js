var body=document.querySelector("body"),menuTrigger=document.querySelector("#toggle-menu-main-mobile"),menuContainer=document.querySelector("#menu-main-mobile"),hamburgerIcon=document.querySelector(".hamburger");menuTrigger!==null&&menuTrigger.addEventListener("click",function(){menuContainer.classList.toggle("open"),hamburgerIcon.classList.toggle("is-active"),body.classList.toggle("lock-scroll")}),window.onscroll=function(){document.body.scrollTop>500||document.documentElement.scrollTop>500?document.getElementById("gotop").style.display="block":document.getElementById("gotop").style.display="none"};function smoothScrollTop(){var e=null;cancelAnimationFrame(e),e=requestAnimationFrame(function t(){var n=document.body.scrollTop||document.documentElement.scrollTop;n>0?(document.body.scrollTop=document.documentElement.scrollTop=n-150,e=requestAnimationFrame(t)):cancelAnimationFrame(e)})}window.ViewImage&&ViewImage.init(".photo-home a, .content_zhengwen img, .top-img,.photo-about a,.gallery-thumbnail img");const e=document.querySelector(".header-background"),t=window.scrollY,a=200,n=100;let o=0,r=t;window.addEventListener("scroll",()=>{const t=window.scrollY;t>r&&t>a?e.classList.add("hidden"):t<r&&(o+=r-t,o>n&&(e.classList.remove("hidden"),o=0)),r=t}),document.addEventListener("DOMContentLoaded",function(){var e=[".archive-time",".summary-date",".page-time"];e.forEach(function(e){var t=document.querySelectorAll(e+"[data-timestamp]");t.forEach(function(e){var t=e.getAttribute("data-timestamp"),n=moment(parseInt(t)*1e3).twitterLong();e.textContent=n})})});function isSafari(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}if(isSafari()){const e=document.querySelectorAll(".img-hide");e.forEach(e=>{e.style.opacity=1})}else{function animateSummaries(){const e=document.querySelectorAll(".img-hide"),t=Array.from(e).sort(()=>Math.random()-.5);function n(e,t){setTimeout(()=>{e.classList.add("slide-up"),e.style.opacity=1},t)}const s={rootMargin:"0px 0px -80px 0px"},o=new IntersectionObserver(e=>{e.forEach((e,t)=>{e.isIntersecting&&n(e.target,t*15)})},s);t.forEach(e=>{o.observe(e)})}animateSummaries()}