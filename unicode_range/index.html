<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><title>利用 unicode-range 属性, 提高自定义字体加载速度 - 空白生活</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=https://img.koobai.com/koobai.png><link href=/index.xml title=空白生活 type=application/rss+xml><link rel=canonical href=https://koobai.com/unicode_range/><link rel=stylesheet href=/css/style.min.1ce1dc10a8f83340618a003d9a9943c14c9f0d3ab4bccc974666eb4275b87f4e.css><meta name=description content="为了各个终端显示效果能保持一致性及自己的审美爱好，网站自定义了三种字体：标题(得意黑)、正文(鸿蒙)、代码(JetBrainsMono)。效果很满意，但带来的问题就是加载速度怎么保证，特别是中文字体。虽然使用.woff2 格式可以一定程度的降低容量，但动不动就 1M 以上的大小，对加载速度还是有一定的影响，包括 CDN 的流量损耗。 "><meta property="og:title" content="利用 unicode-range 属性, 提高自定义字体加载速度"><meta property="og:type" content="website"><meta property="og:url" content="https://koobai.com/unicode_range/"><meta property="og:image" content="https://img.koobai.com/article/unicode_range.webp"><meta property="og:description" content="为了各个终端显示效果能保持一致性及自己的审美爱好，网站自定义了三种字体：标题(得意黑)、正文(鸿蒙)、代码(JetBrainsMono)。效果很满意，但带来的问题就是加载速度怎么保证，特别是中文字体。虽然使用.woff2 格式可以一定程度的降低容量，但动不动就 1M 以上的大小，对加载速度还是有一定的影响，包括 CDN 的流量损耗。 "></head><body class='page page-blog-single'><div id=menu-main-mobile class=menu-main-mobile><ul class=menu><li class=menu-item-首页><a href=https://koobai.com/>首页</a></li><li class=menu-item-锻炼><a href=https://workouts.koobai.com>锻炼</a></li><li class=menu-item-唠叨><a href=https://koobai.com/memos/>唠叨</a></li><li class=menu-item-软件><a href=https://koobai.com/apps/>软件</a></li><li class=menu-item-好物><a href=https://koobai.com/hardware/>好物</a></li><li class=menu-item-观影><a href=https://koobai.com/movies/>观影</a></li><li class=menu-item-归档><a href=https://koobai.com/archives/>归档</a></li><li class=menu-item-关于><a href=https://koobai.com/about/>关于</a></li></ul></div><div id=wrapper class=wrapper><div class=header-background><div class=header><a class=header-logo href=/><img src=https://img.koobai.com/koobai.svg alt=koobai> 空白生活</a><div class=menu-main><ul><li class=menu-item-首页><a href=/><span>首页</span></a></li><li class=menu-item-锻炼><a href=https://workouts.koobai.com><span>锻炼</span></a></li><li class=menu-item-唠叨><a href=/memos/><span>唠叨</span></a></li><li class=menu-item-软件><a href=/apps/><span>软件</span></a></li><li class=menu-item-好物><a href=/hardware/><span>好物</span></a></li><li class=menu-item-观影><a href=/movies/><span>观影</span></a></li><li class=menu-item-归档><a href=/archives/><span>归档</span></a></li><li class=menu-item-关于><a href=/about/><span>关于</span></a></li><a href=/index.xml target=_blank><img class=header-rss src=https://img.koobai.com/rss.svg alt=RSS></a><a href=mailto:mekoobai@gmail.com><img class=header-rss src=https://img.koobai.com/email.svg alt=E-mail></a></ul></div><div id=toggle-menu-main-mobile class=hamburger-trigger><button class=hamburger>Menu</button></div></div></div><script src=https://fastly.jsdelivr.net/gh/Tokinx/ViewImage/view-image.min.js></script><div class=blog><div class=intro><h1 class=article_title>利用 unicode-range 属性, 提高自定义字体加载速度<span class=article_dot>.</span></h1><img loading=lazy decoding=async src=https://img.koobai.com/article/unicode_range.webp class=top-img></div><div class=content_zhengwen><div class=content><p>每天折腾一点，新鲜满足感就增强点。为了各个终端显示效果能保持一致性及自己的审美爱好，网站自定义了三种字体：标题(得意黑)、正文(鸿蒙)、代码(JetBrainsMono)。效果很满意，但带来的问题就是加载速度怎么保证，特别是中文字体。虽然使用.woff2 格式可以一定程度的降低容量，但动不动就 1M 以上的大小，对加载速度还是有一定的影响，包括 CDN 的流量损耗。</p><p>想到的方法是引用大厂的 CDN，既能白嫖保证加载速度又觉得说大厂一般对字体有优化，经过一番 Google，解决了正文(鸿蒙)字体问题。但标题、代码区域的字体，国内还没找到适合白嫖的既有速度又稳定 CDN。</p><p>正苦恼之际，发现 Google 或者国内大厂字体引用方式：CSS 中都有一个 unicode-range 属性。于是，搜索一番，名称叫字符集，通俗点就是把一个字体拆分成 N 个包，显示的字体刚好在其中一个包，浏览器就只加载这一个包，而不用加载整个字体，这就能大大提高加载速度及节省 CDN 流量了。</p><p>使用方法：先搞清楚，基本中文的引用：字符集都包含哪些区间（包）。可参考：<a href=https://www.zhangxinxu.com/study/201611/chinese-language-unicode-range.html target=_blank>中文汉字和常见英文数字等的 unicode 编码范围</a>，得到 Unicode 编码范围值之后，在对应字体 CSS 引用：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=line><span class=cl><span class=p>@</span><span class=k>font-face</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>unicode-range</span><span class=o>:</span> <span class=nt>U</span><span class=o>+</span><span class=nt>4E00-9FA5</span><span class=o>,</span><span class=nt>U</span><span class=o>+</span><span class=nt>0025-00F0</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=c>/* 格式为U+编码范围，多个范围以&#34;,&#34;分开 */</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>搞定，这下就可以愉快的随意引用自定义字体了。当然使用场景很多样，详细说明、使用、CDN 引用，参考：<br><a href=https://www.zhangxinxu.com/wordpress/2016/11/css-unicode-range-character-font-face target=_blank>CSS unicode-range 特定字符使用 font-face 自定义字体</a><br><a href=https://www.thyuu.com/word/tips/62610 target=_blank>引入商用黑体字体系列整理及 CSS 字体引入</a></p><h3 id=题外>题外：</h3><ol><li>推荐下 Obsidian，知识管理笔记类软件。之前写日志要在几个不同的文本软件中切换，要么界面感觉不适合码字，适合码字了但插入一些东西总是出现各种问题。Obsidian，插件丰富，配合 WebDav 各端同步。自己就当日常记录、写博客日志使用。动手能力强的话可以直接在里面 &ldquo;写&ndash;上传&ndash;提交&rdquo; 一条龙博客发布流程。</li><li>最近不知道怎么回事，娃发烧生病好了之后复发，现在还有点咳，Eileen 也是反反复复，只能躺床上休息。自己这两天也开始咳嗽，喉咙不舒服，今天腿发酸～～。希望一家人的身体尽快健康好起来，活蹦乱跳的～～</li></ol></div><div class=page-time>2023-03-01</div><div class=tag><a href=/tags/%E6%8A%98%E8%85%BE/>折腾</a></div><div class=tag><a href=/tags/%E5%8D%9A%E5%AE%A2/>博客</a></div><div class=tag><a href=/tags/hugo/>Hugo</a></div></div><div class=previousnext><div class=previousnext-intro><a class=previous-title href=https://koobai.com/smart_home_xiaomi/>上一篇：智能家居使用主观感受</a><div class=previous-intro>2018 年装修房子选灯具的时候，了解到智能家居。想着要不尝试看看，经过性价比、产品丰富度、入门简易度几个维度筛选下来，小米生态链的品牌最适合。到现在差不多四年多时间，米家里显示的设备88个，基本覆盖了日常使用设备，如：门锁、灯具、猫眼、摄像机、窗帘、扫地机、净水器、各类传感器等。</div><div class=previous-time><a href=/smart_home_xiaomi/>看全文 ...</a></div></div><a href=/smart_home_xiaomi/><img loading=lazy decoding=async src=https://img.koobai.com/article/home_xiaomi.webp class=previousnext-img></a><div class=previousnext-interval><div class=previousnext-intro><a class=previous-title href=https://koobai.com/workbench/>下一篇：工作台之桌面搭配</a><div class=previous-intro>2020 疫情开始从公司辞职后，一部分时间变成了在家做些项目。一开始在餐桌上对付下，时间久了，腰不行，之后就在休闲区给自己整了个工作台。到现在也 3 年时间了，感觉已形成自己一个空间，非常满意，中间还把桌子换成了升降桌，桌面整体保持着简洁干净，只是适当加点小装饰～</div><div class=previous-time><a href=/workbench/>看全文 ...</a></div></div><a href=/workbench/><img loading=lazy decoding=async src=https://img.koobai.com/article/workbench/workbench.webp class=previousnext-img></a></div><div></div></div><div class=pinglun>已经看到这里了，不留下点什么？</div><div class=article-comments><link href=https://npm.elemecdn.com/artalk@2.5.5/dist/ArtalkLite.css rel=stylesheet><script src=https://npm.elemecdn.com/artalk@2.5.5/dist/ArtalkLite.js></script><div id=Comments></div><script>new Artalk({el:"#Comments",pageKey:"https://koobai.com/unicode_range/",pageTitle:"利用 unicode-range 属性, 提高自定义字体加载速度",server:"https://c.koobai.com",site:"Koobai 空白生活"})</script></div></div><div class=footer-background><div class=footer><div class=footer-info>&copy; 2023 <a href=/>空白生活</a>.
由
<a href=https://gohugo.io/ target=_blank>Hugo</a> 提供强力驱动,
主题<a href=/>惊蛰 v1.6 由 Koobai 折腾</a>.
<a href=https://beian.miit.gov.cn/ target=_blank>浙ICP备16011784号-1</a>
<img src=https://img.koobai.com/footer/beian.png alt=备案号> <a target=_blank href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=33011302000343">浙公网安备 33011302000343 号</a></div></div><script async src=https://img.koobai.com/yangle.js data-website-id=dd7da057-fabf-4362-b9fb-4f547063bd87 data-host-url=https://u.koobai.com data-domains=koobai.com></script><div class=gotop_hide><div class=gotop onclick=smoothScrollTop() id=gotop><img src=https://img.koobai.com/up.svg alt=回到顶部></div></div><script>window.addEventListener("load",function(){document.body.classList.add("loaded")})</script><script type=text/javascript src=/js/bundle.min.27962b6d07bcf6769158037b835919713056d7c09c66a08a74775552bebb0ae3.js></script></body></html>