<!doctype html><html lang=zh-CN><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><title>利用 unicode-range 属性, 提高自定义字体加载速度 - 空白生活</title>
<meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=https://img.koobai.com/koobai.png><link href=/index.xml title=空白生活 type=application/rss+xml><link rel=canonical href=https://koobai.com/unicode_range/><link rel=stylesheet href=/css/style.min.e3e0511deaf55e7171cb1a0e77ad071444664adb388bd327b3da52e12c078db9.css><meta name=description content="为了各个终端显示效果能保持一致性及自己的审美爱好，网站自定义了三种字体：标题(得意黑)、正文(鸿蒙)、代码(JetBrainsMono)。效果很满意，但带来的问题就是加载速度怎么保证，特别是中文字体。虽然使用.woff2 格式可以一定程度的降低容量，但动不动就 1M 以上的大小，对加载速度还是有一定的影响，包括 CDN 的流量损耗。 "><meta property="og:title" content="利用 unicode-range 属性, 提高自定义字体加载速度"><meta property="og:type" content="website"><meta property="og:url" content="https://koobai.com/unicode_range/"><meta property="og:image" content="https://img.koobai.com/article/unicode_range.webp"><meta property="og:description" content="为了各个终端显示效果能保持一致性及自己的审美爱好，网站自定义了三种字体：标题(得意黑)、正文(鸿蒙)、代码(JetBrainsMono)。效果很满意，但带来的问题就是加载速度怎么保证，特别是中文字体。虽然使用.woff2 格式可以一定程度的降低容量，但动不动就 1M 以上的大小，对加载速度还是有一定的影响，包括 CDN 的流量损耗。 "></head><body class='page page-blog-single'><div id=menu-main-mobile class=menu-main-mobile><ul class=menu><li><a href=https://koobai.com/>首页</a></li><li><a href=https://koobai.com/apps/>软件</a></li><li><a href=https://koobai.com/hardware/>好物</a></li><li><a href=https://koobai.com/movies/>观影</a></li></ul></div><div id=wrapper class=wrapper><div class=header><a href=/about class=header-logo><img src=https://img.koobai.com/photo/koobai.webp alt=koobai></a><div class=new-heard-menu><div class=header-menu><a href=/>首页</a></div><div class=header-menu><a href=/apps/>软件</a></div><div class=header-menu><a href=/hardware/>好物</a></div><div class=header-menu><a href=/movies/>观影</a></div><div class=biaot-beian>空白生活</div></div><div class=menu-main><a href=/about class=about-logo title=关于><img src=https://img.koobai.com/photo/koobai.webp alt=koobai></a>
<a href=https://github.com/koobai/blog title=Github target=_blank data-umami-event=Github class=githuab><svg aria-hidden="true" viewBox="0 0 16 16" data-view-component="true"><path d="M8 0c4.42.0 8 3.58 8 8a8.013 8.013.0 01-5.45 7.59c-.4.08-.55-.17-.55-.38.0-.27.01-1.13.01-2.2.0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95.0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12.0.0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27s-1.36.09-2 .27c-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15.0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94.0.67.01 1.3.01 1.49.0.21-.15.45-.55.38A7.995 7.995.0 010 8c0-4.42 3.58-8 8-8z"/></svg></a><a href=https://space.bilibili.com/2084095738 target=_blank title=当UP主的一天 data-umami-event=Bilibili><svg width="20" height="20" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg" class="zhuzhan-icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.73252 2.67094c-.40023-.3861-.40023-1.02721.0-1.4133.38039-.366956.983-.366956 1.36339.0L7.21723 3.30403C7.27749 3.36218 7.32869 3.4261 7.37081 3.49407H10.5789C10.6211 3.4261 10.6723 3.36218 10.7325 3.30403l2.1213-2.04639C13.2342.890684 13.8368.890684 14.2172 1.25764c.4003.38609.4003 1.0272.0 1.4133L13.364 3.49407H14c2.2091.0 4 1.79086 4 4V12.9996c0 2.2091-1.7909 4-4 4H4c-2.20914.0-4-1.7909-4-4V7.49406C0 5.28492 1.79086 3.49407 4 3.49407h.58579l-.85327-.82313zM4 5.42343c-1.10457.0-2 .89543-2 2V13.0702c0 1.1046.89543 2 2 2H14c1.1046.0 2-.8954 2-2V7.42343c0-1.10457-.8954-2-2-2H4zM5 9.31747c0-.55228.44772-1 1-1s1 .44772 1 1V10.2115c0 .552300000000001-.44772 1-1 1S5 10.7638 5 10.2115V9.31747zm7-1c-.552300000000001.0-1 .44772-1 1V10.2115C11 10.7638 11.4477 11.2115 12 11.2115S13 10.7638 13 10.2115V9.31747c0-.55228-.447699999999999-1-1-1z"/></svg></a></div><div id=toggle-menu-main-mobile class=hamburger-trigger><button class=hamburger>Menu</button></div></div><script src="/js/moment.min.js?v=2.29.4"></script><script src=/js/moment.twitter.min.js></script><script>function formatDate(e){return typeof e=="number"&&(e=new Date(e*1e3).toISOString()),moment(Date.parse(e)).twitterLong().replace(/\s\d{2}:\d{2}/,"")}</script><div class=blog><div class=intro><h1 class=article_title>利用 unicode-range 属性, 提高自定义字体加载速度</h1><img src=https://img.koobai.com/article/unicode_range.webp class="top-img img-hide"></div><div class=content_zhengwen><div class=content><p>每天折腾一点，新鲜满足感就增强点。为了各个终端显示效果能保持一致性及自己的审美爱好，网站自定义了三种字体：标题(得意黑)、正文(鸿蒙)、代码(JetBrainsMono)。效果很满意，但带来的问题就是加载速度怎么保证，特别是中文字体。虽然使用.woff2 格式可以一定程度的降低容量，但动不动就 1M 以上的大小，对加载速度还是有一定的影响，包括 CDN 的流量损耗。</p><p>想到的方法是引用大厂的 CDN，既能白嫖保证加载速度又觉得说大厂一般对字体有优化，经过一番 Google，解决了正文(鸿蒙)字体问题。但标题、代码区域的字体，国内还没找到适合白嫖的既有速度又稳定 CDN。</p><p>正苦恼之际，发现 Google 或者国内大厂字体引用方式：CSS 中都有一个 unicode-range 属性。于是，搜索一番，名称叫字符集，通俗点就是把一个字体拆分成 N 个包，显示的字体刚好在其中一个包，浏览器就只加载这一个包，而不用加载整个字体，这就能大大提高加载速度及节省 CDN 流量了。</p><p>使用方法：先搞清楚，基本中文的引用：字符集都包含哪些区间（包）。可参考：<a href=https://www.zhangxinxu.com/study/201611/chinese-language-unicode-range.html target=_blank>中文汉字和常见英文数字等的 unicode 编码范围</a>，得到 Unicode 编码范围值之后，在对应字体 CSS 引用：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=line><span class=cl><span class=p>@</span><span class=k>font-face</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>unicode-range</span><span class=o>:</span> <span class=nt>U</span><span class=o>+</span><span class=nt>4E00-9FA5</span><span class=o>,</span><span class=nt>U</span><span class=o>+</span><span class=nt>0025-00F0</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=c>/* 格式为U+编码范围，多个范围以&#34;,&#34;分开 */</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>搞定，这下就可以愉快的随意引用自定义字体了。当然使用场景很多样，详细说明、使用、CDN 引用，参考：<br><a href=https://www.zhangxinxu.com/wordpress/2016/11/css-unicode-range-character-font-face target=_blank>CSS unicode-range 特定字符使用 font-face 自定义字体</a><br><a href=https://www.thyuu.com/word/tips/62610 target=_blank>引入商用黑体字体系列整理及 CSS 字体引入</a></p><h3 id=题外>题外：</h3><ol><li>推荐下 Obsidian，知识管理笔记类软件。之前写日志要在几个不同的文本软件中切换，要么界面感觉不适合码字，适合码字了但插入一些东西总是出现各种问题。Obsidian，插件丰富，配合 WebDav 各端同步。自己就当日常记录、写博客日志使用。动手能力强的话可以直接在里面 &ldquo;写&ndash;上传&ndash;提交&rdquo; 一条龙博客发布流程。</li><li>最近不知道怎么回事，娃发烧生病好了之后复发，现在还有点咳，Eileen 也是反反复复，只能躺床上休息。自己这两天也开始咳嗽，喉咙不舒服，今天腿发酸～～。希望一家人的身体尽快健康好起来，活蹦乱跳的～～</li></ol></div><div class=single-biaoq><div class=page-time>更新于
<script>document.write(formatDate(1677628800))</script></div><div class=single-tag><div class=single-tag-c>#<a href=/tags/%E6%8A%98%E8%85%BE/>折腾</a></div><div class=single-tag-c>#<a href=/tags/%E5%8D%9A%E5%AE%A2/>博客</a></div><div class=single-tag-c>#<a href=/tags/hugo/>Hugo</a></div></div></div></div><div class=archives_nrong><div class=archives_one><div><div class=archive-title><a href=/smart_home_xiaomi/>智能家居使用主观感受</a></div><div class=archive-time><script>document.write(formatDate(1677196800))</script></div></div><div class=archive-img><a href=/smart_home_xiaomi/><img loading=lazy decoding=async src=https://img.koobai.com/article/home_xiaomi.webp></a></div></div><div class=archives_one><div><div class=archive-title><a href=/workbench/>工作台之桌面搭配</a></div><div class=archive-time><script>document.write(formatDate(167832e4))</script></div></div><div class=archive-img><a href=/workbench/><img loading=lazy decoding=async src=https://img.koobai.com/article/workbench/workbench.webp></a></div></div></div><div class=article-comments><link href=https://img.koobai.com/Artalk.css rel=stylesheet><script src=https://img.koobai.com/Artalk.js></script><div id=Comments></div><script>Artalk.init({el:"#Comments",pageKey:"https://koobai.com/unicode_range/",pageTitle:"利用 unicode-range 属性, 提高自定义字体加载速度",server:"https://c.koobai.com",site:"Koobai 空白生活"})</script></div></div><div class=footer-background><div class=footer><div class=footer-info>&copy; 2023-2024 <a href=/>空白Koobai</a>.
由 <a href=https://gohugo.io/ target=_blank>Hugo </a>提供强力驱动,<span class=youpaiyun><a href="https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral" target=_blank>又拍云</a>提供图片存储/加速</span>.
<a href=https://beian.miit.gov.cn/ target=_blank>浙ICP备16011784号-1</a> <a target=_blank href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=33011302000343">浙公网安备 33011302000343 号</a></div><div class=footer-rss><a href=https://memos.koobai.com/u/1/rss.xml target=_blank>唠叨 RSS</a> /
<a href=https://koobai.com/index.xml target=_blank>博文 RSS</a></div></div><script src=/js/view-image.min.js></script><script type=module src=https://cdn.jsdelivr.net/gh/emaction/frontend.dist@1.0.10/bundle.js></script><script async src=https://u.koobai.com/yangle.js data-website-id=dd7da057-fabf-4362-b9fb-4f547063bd87 data-domains=koobai.com></script><div class=gotop_hide><div class=gotop onclick=smoothScrollTop() id=gotop><img src=https://img.koobai.com/up.svg alt=回到顶部></div></div><script type=text/javascript src=/js/bundle.min.ec26b59a00a2590684251feed454cb3affa248a483c1f9e342d419d474ef6451.js></script></body></html>