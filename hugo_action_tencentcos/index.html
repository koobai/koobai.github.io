<!doctype html><html lang=zh-CN><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><title>Github自动构建Hugo, 并同步到腾讯COS, 同时刷新CDN缓存 - 空白生活</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=https://img.koobai.com/koobai.png><link href=/index.xml title=空白生活 type=application/rss+xml><link rel=canonical href=https://koobai.com/hugo_action_tencentcos/><link rel=stylesheet href=/css/style.min.d5fe32f15dbcbef0c8a1f2f182cdb1967343554ee9f593c9b1c2838bd96893fd.css><meta name=description content="把二级域名改成一级，过程中发现Cloudflare Pages如果要绑定一级，须把域名的DNS服务器解析过去。解析之后，自己的nas访问变得不稳定，时不时的打不开，来来回回折腾了好几次，无解，只好改回去。 vercel可以绑定一级，尝试之后，访问速度太慢，放弃。开始了解国内的云服务，学习到了对象储存、CDN，经过一番对比尝试，最终选择腾讯云的COS对象存储配合内容分发网络CDN搭建。 "><meta property="og:title" content="Github自动构建Hugo, 并同步到腾讯COS, 同时刷新CDN缓存"><meta property="og:type" content="website"><meta property="og:url" content="https://koobai.com/hugo_action_tencentcos/"><meta property="og:image" content="https://img.koobai.com/article/cdn.svg"><meta property="og:description" content="把二级域名改成一级，过程中发现Cloudflare Pages如果要绑定一级，须把域名的DNS服务器解析过去。解析之后，自己的nas访问变得不稳定，时不时的打不开，来来回回折腾了好几次，无解，只好改回去。 vercel可以绑定一级，尝试之后，访问速度太慢，放弃。开始了解国内的云服务，学习到了对象储存、CDN，经过一番对比尝试，最终选择腾讯云的COS对象存储配合内容分发网络CDN搭建。 "></head><body class='page page-blog-single'><div id=menu-main-mobile class=menu-main-mobile><ul class=menu><li class=menu-item-首页><a href=https://koobai.com/>首页</a></li><li class=menu-item-锻炼><a href=https://workouts.koobai.com>锻炼</a></li><li class=menu-item-唠叨><a href=https://koobai.com/memos/>唠叨</a></li><li class=menu-item-软件><a href=https://koobai.com/apps/>软件</a></li><li class=menu-item-好物><a href=https://koobai.com/hardware/>好物</a></li><li class=menu-item-观影><a href=https://koobai.com/movies/>观影</a></li><li class=menu-item-日志><a href=https://koobai.com/archives/>日志</a></li><li class=menu-item-关于><a href=https://koobai.com/about/>关于</a></li></ul></div><div id=wrapper class=wrapper><div class=header-background><div class=header><a class=header-logo href=/><img src=https://img.koobai.com/koobai.svg alt=koobai> 空白生活</a><div class=menu-main><ul><li class=menu-item-首页><a href=/><span>首页</span></a></li><li class=menu-item-锻炼><a href=https://workouts.koobai.com><span>锻炼</span></a></li><li class=menu-item-唠叨><a href=/memos/><span>唠叨</span></a></li><li class=menu-item-软件><a href=/apps/><span>软件</span></a></li><li class=menu-item-好物><a href=/hardware/><span>好物</span></a></li><li class=menu-item-观影><a href=/movies/><span>观影</span></a></li><li class=menu-item-日志><a href=/archives/><span>日志</span></a></li><li class=menu-item-关于><a href=/about/><span>关于</span></a></li><a href=/index.xml target=_blank><img class=header-rss src=https://img.koobai.com/rss.svg alt=RSS></a><a href=mailto:mekoobai@gmail.com><img class=header-rss src=https://img.koobai.com/email.svg alt=E-mail></a></ul></div><div id=toggle-menu-main-mobile class=hamburger-trigger><button class=hamburger>Menu</button></div></div></div><script src=https://fastly.jsdelivr.net/gh/Tokinx/ViewImage/view-image.min.js></script><div class=blog><div class=intro><h1 class=article_title>Github自动构建Hugo, 并同步到腾讯COS, 同时刷新CDN缓存<span class=article_dot>.</span></h1><img loading=lazy decoding=async src=https://img.koobai.com/article/cdn.svg class=top-img></div><div class=content_zhengwen><div class=content><p>博客逐步搭建完善，更新了日常使用的<a href=https://koobai.com/apps/>App</a>、<a href=https://koobai.com/hardware/>硬件</a>页面。博客样式标题采用了"<a href=https://github.com/atelier-anchor/smiley-sans target=_blank>得意黑</a>&ldquo;开源字体。把二级域名改成一级，过程中发现 Cloudflare Pages 如果要绑定一级，须把域名的 DNS 服务器解析过去。解析之后，自己的 nas 访问变得不稳定，时不时的打不开，来来回回折腾了好几次，无解，只好改回去。 vercel 可以绑定一级，尝试之后，访问速度太慢，放弃。开始了解国内的云服务，学习到了对象储存、CDN，经过一番对比尝试，最终选择腾讯云的 COS 对象存储配合内容分发网络 CDN 搭建(主要它的 cosbrowser 界面是经过设计的 ᵔ◡ᵔ；客服也很负责，咨询问题会电话打过来详细教你如何操作)。</p><p>在了解部署过程中发现 Cyrus&rsquo;s Blog 写的&rdquo;<a href=https://blog.xm.mk/posts/fc83 target=_blank>自动构建 Hugo 博客部署至腾讯云对象存储 COS 并刷新 CDN</a>&ldquo;教程，一番折腾，完美。感谢作者。<br>备份记录下过程: (详细的注释可查看 Cyrus&rsquo;s Blog)</p><h3 id=准备工作>准备工作：</h3><ol><li>到腾讯云访问管理——访问密钥——API 密钥管理中，新建一个账户：访问方式改为"编程访问&rdquo;，用户权限添加"QcloudCOSDataFullControl、 QcloudCDNFullAccess"。完成之后将生成的 SecretId、SecretKey 复制保存。</li><li>到 Github 新建一个仓库(私有公共都行)，把自己 hugo 生成的站点源文件(不是 public 下文件)同步过去。</li><li>在刚创建的仓库——Settings——Secrets and variables——Actions，新建 SecretId、SecretKey、Bucket、 Region 四个密钥。其中 SecretId、SecretKey 为上面复制保存的，Bucket(存储桶名称)、 Region(所属地域 )在 COS 中存储桶列表中获取。</li></ol><h3 id=部署>部署:</h3><ol><li>在 Github 仓库根目录，新建".github/workflows"文件夹，并新建 xxx.yml 文件，复制以下代码到文件里。作用：借助 Github Action 实现自动部署。</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-yml data-lang=yml><span class=line><span class=cl><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Build and deploy</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># 自动触发构建</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>push</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>branches</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>main</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># 构建hugo及生产静态页面</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>deploy</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>submodules</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>fetch-depth</span><span class=p>:</span><span class=w> </span><span class=m>0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Setup Hugo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>peaceiris/actions-hugo@v2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>hugo-version</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;latest&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>extended</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Build</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>hugo --minify</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># 上传到腾讯COS存储桶</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Setup Python</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/setup-python@v4</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>python-version</span><span class=p>:</span><span class=w> </span><span class=m>3.9</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Setup coscmd and sdk</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>sudo pip install coscmd</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Configure coscmd</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>env</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>SECRET_ID</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.SecretId }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>SECRET_KEY</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.SecretKey }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>BUCKET</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.Bucket }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>REGION</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.Region }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>coscmd config -a $SECRET_ID -s $SECRET_KEY -b $BUCKET -r $REGION</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Upload to COS</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>coscmd upload -rfs --delete public/ /</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># 刷新腾讯CDN缓存目录</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Flush CDN</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>env</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>SECRET_ID</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.SecretId }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>SECRET_KEY</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.SecretKey }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>          pip install --upgrade tencentcloud-sdk-python
</span></span></span><span class=line><span class=cl><span class=sd>          python flush-dns.py -i $SECRET_ID -k $SECRET_KEY</span><span class=w>          
</span></span></span></code></pre></div><ol start=2><li>在 Github 仓库根目录，新建 flush-dns.py 文件，复制以下代码到文件里，并将里面的"koobai.com"域名修改成自己的 CDN 加速域名。作用：通过 Python 脚本实现刷新 CDN 缓存，详细参数可参考<a href="https://console.cloud.tencent.com/api/explorer?Product=cdn&Version=2018-06-06&Action=PurgePathCache" target=_blank>腾讯的调用 aip 文档</a>。</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=kn>import</span> <span class=nn>json</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>argparse</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>tencentcloud.common</span> <span class=kn>import</span> <span class=n>credential</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>tencentcloud.common.profile.client_profile</span> <span class=kn>import</span> <span class=n>ClientProfile</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>tencentcloud.common.profile.http_profile</span> <span class=kn>import</span> <span class=n>HttpProfile</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>tencentcloud.common.exception.tencent_cloud_sdk_exception</span> <span class=kn>import</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>TencentCloudSDKException</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>tencentcloud.cdn.v20180606</span> <span class=kn>import</span> <span class=n>cdn_client</span><span class=p>,</span> <span class=n>models</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 传入参数</span>
</span></span><span class=line><span class=cl><span class=n>parser</span> <span class=o>=</span> <span class=n>argparse</span><span class=o>.</span><span class=n>ArgumentParser</span><span class=p>(</span><span class=n>description</span><span class=o>=</span><span class=s1>&#39;-i &lt;secretId&gt; -k &lt;secretKey&gt;&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span><span class=s1>&#39;-i&#39;</span><span class=p>,</span> <span class=s1>&#39;--secretid&#39;</span><span class=p>,</span> <span class=nb>type</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span> <span class=n>required</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>help</span><span class=o>=</span><span class=s1>&#39;secretId&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span><span class=s1>&#39;-k&#39;</span><span class=p>,</span> <span class=s1>&#39;--secretkey&#39;</span><span class=p>,</span> <span class=nb>type</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span> <span class=n>required</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>help</span><span class=o>=</span><span class=s1>&#39;secretKey&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>args</span> <span class=o>=</span> <span class=n>parser</span><span class=o>.</span><span class=n>parse_args</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>cred</span> <span class=o>=</span> <span class=n>credential</span><span class=o>.</span><span class=n>Credential</span><span class=p>(</span><span class=n>args</span><span class=o>.</span><span class=n>secretid</span><span class=p>,</span><span class=n>args</span><span class=o>.</span><span class=n>secretkey</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>httpProfile</span> <span class=o>=</span> <span class=n>HttpProfile</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>httpProfile</span><span class=o>.</span><span class=n>endpoint</span> <span class=o>=</span> <span class=s2>&#34;cdn.tencentcloudapi.com&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>clientProfile</span> <span class=o>=</span> <span class=n>ClientProfile</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>clientProfile</span><span class=o>.</span><span class=n>httpProfile</span> <span class=o>=</span> <span class=n>httpProfile</span>
</span></span><span class=line><span class=cl>    <span class=n>client</span> <span class=o>=</span> <span class=n>cdn_client</span><span class=o>.</span><span class=n>CdnClient</span><span class=p>(</span><span class=n>cred</span><span class=p>,</span> <span class=s2>&#34;&#34;</span><span class=p>,</span> <span class=n>clientProfile</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>req</span> <span class=o>=</span> <span class=n>models</span><span class=o>.</span><span class=n>PurgePathCacheRequest</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>params</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&#34;Paths&#34;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&#34;https://koobai.com/&#34;</span><span class=p>,</span> <span class=s2>&#34;https://www.koobai.com/&#34;</span><span class=p>],</span> <span class=s2>&#34;FlushType&#34;</span><span class=p>:</span> <span class=s2>&#34;flush&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=n>req</span><span class=o>.</span><span class=n>from_json_string</span><span class=p>(</span><span class=n>json</span><span class=o>.</span><span class=n>dumps</span><span class=p>(</span><span class=n>params</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>resp</span> <span class=o>=</span> <span class=n>client</span><span class=o>.</span><span class=n>PurgePathCache</span><span class=p>(</span><span class=n>req</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>resp</span><span class=o>.</span><span class=n>to_json_string</span><span class=p>())</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>except</span> <span class=n>TencentCloudSDKException</span> <span class=k>as</span> <span class=n>err</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>err</span><span class=p>)</span>
</span></span></code></pre></div><p>自此部署完毕，当有新文件上传到 main 分支，就会自动触发（hugo 生成静态文件——上传到 COS——刷新 CDN 缓存）。</p><h3 id=查看是否部署成功>查看是否部署成功：</h3><ol><li>Github 仓库 Actions 下，查看构建记录</li><li>COS 存储桶下的文件变动</li><li>CDN 刷新预热下，操作记录——目录刷新</li></ol><h3 id=费用>费用：</h3><p>COS、CDN 费用(包含存储+CDN 回源流量+CDN 流量+HTTPS 请求等)，个人站没什么流量，应该很低，跑一段时间看看。另外腾讯云也提供了六个月一部分免费试用~~</p><h3 id=扩展>扩展：</h3><p>因为博客源文件在 Github 里，可以利用 vercel 平台读取仓库也自动构建一个。如果使用的是阿里云域名 DNS 服务器，可以在解析请求来源选择"境外"，&ldquo;记录值"填写 vercel 平台绑定域名时所提供的。</p><p>这样国内网络访问的时候走腾讯 CDN，国外访问的时候走 vercel 平台所提供的节点。</p></div><div class=page-time>2023-01-15</div><div class=tag><a href=/tags/%E5%8D%9A%E5%AE%A2/>博客</a></div><div class=tag><a href=/tags/%E6%8A%98%E8%85%BE/>折腾</a></div><div class=tag><a href=/tags/hugo/>Hugo</a></div></div><div class=previousnext><div class=previousnext-intro><a class=previous-title href=https://koobai.com/time/>上一篇：十年弹指一挥间</a><div class=previous-intro>最近脑子一直在想，是不是该搭个个人站，以展示日常工作项目，方便让潜在的公司了解，从而快速建立沟通。想着想着就往博客路线走了，离上次2012年搭建博客，时间过去了10年。细想这10年少了博客的日常记录，是少了点什么。虽然当下，能记录的平台、工具多不胜数，但博客始终是记录的动力。</div><div class=previous-time><a href=/time/>看全文 ...</a></div></div><a href=/time/><img loading=lazy decoding=async src=https://img.koobai.com/article/noy.webp class=previousnext-img></a><div class=previousnext-interval><div class=previousnext-intro><a class=previous-title href=https://koobai.com/hugo_dark/>下一篇：Hugo主题添加暗黑(夜间)模式, 并自动切换</a><div class=previous-intro>继续完善博客主题风格，折腾过程，备份记录留档。由于自己并不懂技术，折腾博客过程中，想实现或者解决某一想法或问题时，都需要通过搜索引擎查阅大量的资料，花大把时间，最终才能勉强得以解决或者继续无解。这就是折腾过程中的乐趣，特别是实现或解决成功的那个兴奋欣慰感～～</div><div class=previous-time><a href=/hugo_dark/>看全文 ...</a></div></div><a href=/hugo_dark/><img loading=lazy decoding=async src=https://img.koobai.com/article/dark.svg class=previousnext-img></a></div><div></div></div><div class=pinglun>已经看到这里了，不留下点什么？</div><div class=article-comments><link href=https://npm.elemecdn.com/artalk@2.5.5/dist/ArtalkLite.css rel=stylesheet><script src=https://npm.elemecdn.com/artalk@2.5.5/dist/ArtalkLite.js></script><div id=Comments></div><script>new Artalk({el:"#Comments",pageKey:"https://koobai.com/hugo_action_tencentcos/",pageTitle:"Github自动构建Hugo, 并同步到腾讯COS, 同时刷新CDN缓存",server:"https://c.koobai.com",site:"Koobai 空白生活"})</script></div></div><div class=footer-background><div class=footer><div class=footer-info>&copy; 2023 <a href=/>空白生活</a>.
由
<a href=https://gohugo.io/ target=_blank>Hugo</a> 提供强力驱动,
主题<a href=/>惊蛰 v2.1 由 Koobai 折腾</a>.
<a href=https://beian.miit.gov.cn/ target=_blank>浙ICP备16011784号-1</a>
<img src=https://img.koobai.com/footer/beian.png alt=备案号> <a target=_blank href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=33011302000343">浙公网安备 33011302000343 号</a></div></div><script async src=https://img.koobai.com/yangle.js data-website-id=dd7da057-fabf-4362-b9fb-4f547063bd87 data-host-url=https://u.koobai.com data-domains=koobai.com></script><div class=gotop_hide><div class=gotop onclick=smoothScrollTop() id=gotop><img src=https://img.koobai.com/up.svg alt=回到顶部></div></div><script>window.addEventListener("load",function(){document.body.classList.add("loaded")})</script><script type=text/javascript src=/js/bundle.min.aac28042451e90574bacf41118284185e5e439648af32460e019ee5c1a88349c.js></script></body></html>